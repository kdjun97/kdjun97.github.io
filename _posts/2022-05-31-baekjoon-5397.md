---
title: "[ë°±ì¤€ 5397] í‚¤ë¡œê±°"
excerpt: "STL Listì™€ Stackì„ ì´ìš©í•œ í’€ì´"

categories:
  - Algorithm
tags:
  - [Algorithm, Baekjoon, Stack, Linked List, C++]

permalink: /algorithm/baekjoon-5397/
 
toc: true
toc_sticky: true
toc_label: "Contents"
toc_icon: "pencil" # https://fontawesome.com/
 
date: 2022-05-31 09:00:00
last_modified_at: 2022-05-31 09:00:00
published: true
---

`ë°±ì¤€ 5397ë²ˆ - í‚¤ë¡œê±°`  

> [ë°±ì¤€ 5397ë²ˆ](https://www.acmicpc.net/problem/5397)  

#### â“ ë¬¸ì œ

ì°½ì˜ì´ëŠ” ê°•ì‚°ì´ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ í›”ì¹˜ê¸° ìœ„í•´ì„œ ê°•ì‚°ì´ê°€ ì‚¬ìš©í•˜ëŠ” ì»´í“¨í„°ì— í‚¤ë¡œê±°ë¥¼ ì„¤ì¹˜í–ˆë‹¤. ë©°ì¹ ì„ ê¸°ë‹¤ë¦° ëì— ì°½ì˜ì´ëŠ” ê°•ì‚°ì´ê°€ ë¹„ë°€ë²ˆí˜¸ ì°½ì— ì…ë ¥í•˜ëŠ” ê¸€ìë¥¼ ì–»ì–´ëƒˆë‹¤.  

í‚¤ë¡œê±°ëŠ” ì‚¬ìš©ìê°€ í‚¤ë³´ë“œë¥¼ ëˆ„ë¥¸ ëª…ë ¹ì„ ëª¨ë‘ ê¸°ë¡í•œë‹¤. ë”°ë¼ì„œ, ê°•ì‚°ì´ê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•  ë•Œ, í™”ì‚´í‘œë‚˜ ë°±ìŠ¤í˜ì´ìŠ¤ë¥¼ ì…ë ¥í•´ë„ ì •í™•í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.   

ê°•ì‚°ì´ê°€ ë¹„ë°€ë²ˆí˜¸ ì°½ì—ì„œ ì…ë ¥í•œ í‚¤ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê°•ì‚°ì´ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•Œì•„ë‚´ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ê°•ì‚°ì´ëŠ” í‚¤ë³´ë“œë¡œ ì…ë ¥í•œ í‚¤ëŠ” ì•ŒíŒŒë²³ ëŒ€ë¬¸ì, ì†Œë¬¸ì, ìˆ«ì, ë°±ìŠ¤í˜ì´ìŠ¤, í™”ì‚´í‘œì´ë‹¤.  

> ì˜ˆì œ ì…ë ¥  
> 2  
> `<<BP<A>>Cd-`  
> `ThIsIsS3Cr3t`  

> ì˜ˆì œ ì¶œë ¥  
> BAPC  
> ThIsIsS3Cr3t  

---  

#### âœï¸ Stackì„ ì´ìš©í•œ í’€ì´

ë¨¼ì €, `Stack`ì„ ì´ìš©í•œ í’€ì´ì´ë‹¤.  
ë‘ ê°œì˜ stackì„ ì´ìš©í•œë‹¤.  
í•˜ë‚˜ëŠ” `key_logger_stack` ì´ê³ , í•˜ë‚˜ëŠ” `'<','>'`ì˜ ë°©í–¥í‚¤ë¥¼ ë‹´ì•„ ì¤„ `arrow stack`ì´ë‹¤.  

`í•´ë²•`  

ğŸ”¥ ëª¨ë“  ìŠ¤íƒì€ empty()ë¥¼ ì´ìš©í•˜ì—¬ ë¹„ì—ˆëŠ”ì§€ ë“±ì„ ì²´í¬í•´ì¤€ë‹¤.  
{: .notice--warning}  

**case 1:** key_logger_stackì´ empty()ê°€ ì•„ë‹ ë•Œ `'<'`ë¥¼ ë°œê²¬í•˜ë©´ `key_logger_stack.top()`ì„ `arrow stack`ì— <u>push</u>í•œë‹¤.  
ê·¸ í›„, `key_logger_stack.pop()`ì„ í•œë‹¤.  

**case 2:** arrow_stackì´ empty()ê°€ ì•„ë‹ ë•Œ `'>'`ë¥¼ ë°œê²¬í•˜ë©´ `arrow_stack.top()`ì„ `key_logger_stack`ì— <u>push</u>í•œë‹¤.  
ê·¸ í›„, `arrow_stack.pop()`ì„ í•œë‹¤.  

**case 3:** key_logger_stackì´ empty()ê°€ ì•„ë‹ ë•Œ `'-'`ë¥¼ ë°œê²¬í•˜ë©´ `key_logger_stack.pop()`ì„ í•œë‹¤.  

**case 4:** ê·¸ ì™¸ì˜ ê²½ìš°ëŠ” ë¬¸ìì´ë¯€ë¡œ `key_logger_stack.push`ë¥¼ í•œë‹¤.  

ì—¬ê¸°ê¹Œì§€ í–ˆì„ ë•Œ, ë°˜ë¡€ê°€ ì¡´ì¬í•œë‹¤.  

ex)  
input : `<<BP<A`  
output : BA  
-> arrow_stackì— A Pê°€ ë‚¨ì•„ìˆìŒ.  

ë”°ë¼ì„œ, ë§ˆì§€ë§‰ì— `arrow_stack`ì— ë‚¨ì•„ìˆëŠ” ëª¨ë“  ì›ì†Œë¥¼ `key_logger_stack`ì— pushí•´ì£¼ë©´ ëœë‹¤.  

`ì˜ˆì œ ì…ë ¥1 í•´ê²° ê³¼ì •`  

input : `<<BP<A>>Cd-`  

**1.**  

<u><<</u>BP<A>>Cd-  

key_logger_stackì´ empty()ì´ê¸° ë•Œë¬¸ì—, pass  

key_logger_stack = []  
arrow_stack = []  

**2.**  

`<<`<u>BP</u>`<A>>Cd-`  

ë¬¸ìëŠ” ë°”ë¡œ key_logger_stackì— push  

key_logger_stack = [B P]  
arrow_stack = []  

**3.**  

`<<BP`<u><</u>`A>>Cd-`  

key_logger_stackì´ empty()ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— key_logger_stackì—ì„œ pop, arrow_stackì—ì„œ pushê°€ ì´ë£¨ì–´ì§.  

key_logger_stack = [B ]  
arrow_stack = [P ]  

**4.**  

`<<BP<`<u>A</u>`>>Cd-`  

ë¬¸ìëŠ” ë°”ë¡œ key_logger_stackì— push  

key_logger_stack = [B A]  
arrow_stack = [P ]  

**5.**  

`<<BP<A`<u>>></u>`Cd-`  

arrow_stackì´ empty()ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— arrow_stackì—ì„œ pop, key_logger_stackì—ì„œ pushê°€ ì´ë£¨ì–´ì§.  

key_logger_stack = [B A P]  
arrow_stack = [ ]  

**6.**  

`<<BP<A>>`<u>Cd</u>`-`  

ë¬¸ìëŠ” ë°”ë¡œ key_logger_stackì— push  

key_logger_stack = [B A P C d]  
arrow_stack = [ ]  

**7.**  

`<<BP<A>>Cd`<u>-</u>  

key_logger_stackì´ empty()ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, key_logger_stackì—ì„œ pop()ì´ ì´ë£¨ì–´ì§.  

key_logger_stack = [B A P C]  
arrow_stack = [ ]  

**8.**  

ìµœì¢…ì ìœ¼ë¡  ì´ stackì„ ì „ë¶€ êº¼ë‚´ì„œ vector<char>ì— ë„£ê³  reverseë¥¼ í•´ë„ ë˜ê³ , ë‚˜ëŠ” stackì„ í•œê°œ ë” ì¨ì„œ ë‹¤ì‹œ ë„£ì—ˆë‹¤ ë¹¼ëŠ” ìª½ìœ¼ë¡œ reverseë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.  

---

#### âœ”ï¸ stack ì •ë‹µ ì½”ë“œ

```cpp
#include <iostream>
#include <vector>
#include <stack>
#include <algorithm>

using namespace std;

void key_logger(string word);
void reverse_output(stack<char> original_stack);

int main(void) {
  ios_base::sync_with_stdio(0);
  cin.tie(0);
  cout.tie(0);

  int T;
  cin >> T;

  for (int i=0; i<T; i++) {
    string temp;
    cin >> temp;
    key_logger(temp);
  }
  
  return 0;
}

void key_logger(string word) {
  stack<char> key_logger_stack;
  stack<char> arrow;
  for (int i=0; i<word.length(); i++) {
    switch (word[i]) {
      case '<':
        if (!key_logger_stack.empty()) {
          arrow.push(key_logger_stack.top());
          key_logger_stack.pop();
        }
        break;
      case '>':
        if (!arrow.empty()) {
          key_logger_stack.push(arrow.top());
          arrow.pop();
        }
        break;
      case '-':
        if (!key_logger_stack.empty())
          key_logger_stack.pop();
        break;
      default:
        key_logger_stack.push(word[i]);
        break;
    }
  }

  while(!arrow.empty()) {
    key_logger_stack.push(arrow.top());
    arrow.pop();
  }
  
  reverse_output(key_logger_stack);
}

void reverse_output(stack<char> original_stack) {
  stack<char> reverse_stack;
  while(!original_stack.empty()) {
    reverse_stack.push(original_stack.top());
    original_stack.pop();
  }

  while(!reverse_stack.empty()) {
    cout << reverse_stack.top();
    reverse_stack.pop();
  }
  cout << "\n";
}
```  

---  

#### âœï¸ STL listë¥¼ ì´ìš©í•œ í’€ì´

`Linked list`ë¥¼ ì´ìš©í•œ í’€ì´ì´ë‹¤.  

ì»¤ì„œë¥¼ ì´ë™í•˜ë©° ì¤‘ê°„ì— ì‚½ì…, ì‚­ì œ ê³¼ì •ì´ ì¼ì–´ë‚œë‹¤ëŠ” ì ì—ì„œ listë¥¼ ì‚¬ìš©í•˜ë©´ ë”ìš± ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.  

`í’€ì´`  

ì»¤ì„œì˜ ì´ë™ì— ëŒ€í•œ ë¶€ë¶„ì„ `list<char>::iterator`ì˜ ì´ë™ìœ¼ë¡œ êµ¬í˜„í•  ê²ƒì´ë‹¤.  

list<char> key_logger;
list<char>::iterator it = key_logger.begin();
ì¸ ìƒíƒœì—ì„œ ì‹œì‘.  

**case 1:** `<`ì´ ë‚˜ì˜¤ë©´ì„œ iteratorê°€ list.begin()ì´ ì•„ë‹ ê²½ìš°, ì»¤ì„œë¥¼ ì™¼ìª½(iterator--)ìœ¼ë¡œ ì´ë™  

**case 2:** `>`ì´ ë‚˜ì˜¤ë©´ì„œ iteratorê°€ list.end()ê°€ ì•„ë‹ ê²½ìš°, ì»¤ì„œë¥¼ ì˜¤ë¥¸ìª½(iterator++)ìœ¼ë¡œ ì´ë™  

**case 3:** `-`ì´ ë‚˜ì˜¤ë©´ì„œ iteratorê°€ list.begin()ì´ ì•„ë‹ ê²½ìš°, iterator = list.erase(it)  

ğŸ’¡ list.erase í•¨ìˆ˜ëŠ” í˜„ì¬ iteratorê°€ ê°€ë¦¬í‚¤ëŠ” í•­ëª©ì„ ì§€ìš°ê³ , ì‚­ì œí•œ ì›ì†Œì˜ ë‹¤ìŒì„ ê°€ë¦¬í‚¤ëŠ” iteratorë¥¼ ë°˜í™˜í•¨.  
{: .notice--info}  

**case 4:** ìœ„ 3ê°œì˜ ë‹¨ì–´ê°€ ì…ë ¥ì´ ì•„ë‹ ë•Œ, í˜„ì¬ iteratorì— ì›ì†Œë¥¼ ì‚½ì…(insert)   

ğŸ’¡ list.insert í•¨ìˆ˜ëŠ” list.insert(it, w)ë¡œ ì‚¬ìš©í•¨.   
í˜„ì¬ itì´ ê°€ë¦¬í‚¤ëŠ” í•­ëª©ì— wë¥¼ insertí•˜ê³ , ì‚½ì…í•œ ì›ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” iteratorë¥¼ ë°˜í™˜í•¨.  
{: .notice--info}  


> ++ ì™œ case 4ì— elseë¥¼ ë„£ì§€ ì•Šì•˜ëƒë©´, elseë¡œ ì²˜ë¦¬í•  ê²½ìš° íŠ¹ì • ìƒí™©ì—ì„œ <, >, -ê°€ ë“¤ì–´ê°€ê¸° ë•Œë¬¸ì— else ifë¡œ ì²˜ë¦¬í•¨.  

`ì˜ˆì œ ì…ë ¥1 í•´ê²° ê³¼ì •`  

ê¸€ ë³´ë‹¨ ê·¸ë¦¼! ê·¸ë¦¼ìœ¼ë¡œ ì„¤ëª…í•˜ê² ë‹¤.  

ê·¸ë¦¼ì„ ë³´ì—¬ì£¼ê¸° ì•ì„œ, insertì™€ erase ê·¸ë¦¬ê³  iteratorì˜ ìœ„ì¹˜ê°€ ì¤‘ìš”í•œ ë¬¸ì œì˜€ë‹¤.  
listì˜ ì›ë¦¬ë¥¼ ì˜ ì•Œê³  ìˆë‹¤ë©´ ìˆ˜ì›”í•˜ê²Œ í’€ ìˆ˜ ìˆì—ˆë‹¤.  
~~ë¬¼ë¡  ë‚œ ì‹œê°„ì´ ì¢€ ê±¸ë ¸ë‹¤..~~  
ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€, `insert í•¨ìˆ˜`ëŠ” í˜„ì¬ iteratorê°€ ê°€ë¦¬í‚¤ëŠ” ìœ„ì¹˜ì— ì›ì†Œë¥¼ ì‚½ì…í•˜ëŠ” í•¨ìˆ˜ì´ì§€ë§Œ, ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ í˜„ì¬ iterator ì „ì— ì‚½ì…í•œë‹¤ê³  ì´í•´í•˜ë©´ ì‰¬ìš¸ ê²ƒì´ë‹¤.  
`erase í•¨ìˆ˜`ëŠ” í˜„ì¬ iteratorê°€ ê°€ë¦¬í‚¤ëŠ” ì›ì†Œë¥¼ ì§€ìš°ê³  iteratorëŠ” ë‹¤ìŒ ì›ì†Œë¡œ ì˜®ê²¨ì§„ë‹¤.  

ë§ì´ ë„ˆë¬´ ê¸¸ì–´ì¡Œë‹¤.  
ì•„ë˜ëŠ” ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ì˜ˆì œ ì…ë ¥1ì˜ í•´ê²° ê³¼ì •ì´ë‹¤.  

![list1](/assets/images/post_img/baekjoon/5397/list1.jpg)  
![list1](/assets/images/post_img/baekjoon/5397/list2.jpg)  
![list1](/assets/images/post_img/baekjoon/5397/list3.jpg)  

---  

#### âœ”ï¸ STL list ì •ë‹µ ì½”ë“œ  

```cpp
#include <iostream>
#include <string>
#include <list>

using namespace std;

void key_logger_answer(string word);

int main(void) {
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);

	int T;
	cin >> T;
	for (int i = 0; i < T; i++) {
		string temp;
		cin >> temp;
		key_logger_answer(temp);
	}

	return 0;
}

void key_logger_answer(string word) {
	list<char> key_logger;
	list<char>::iterator it = key_logger.begin();

	
	for (int i = 0; i < word.length(); i++) {
		if (word[i] == '<' && it != key_logger.begin())
			it--;
		else if (word[i] == '>' && it != key_logger.end())
			it++;
		else if (word[i] == '-' && it != key_logger.begin())
			it = key_logger.erase(--it);
		else if (word[i] != '<' && word[i] != '-' && word[i] != '>')
			key_logger.insert(it, word[i]);
	}
	
	for (it = key_logger.begin(); it != key_logger.end(); it++)
		cout << *it;
	cout << "\n";
}
```  
